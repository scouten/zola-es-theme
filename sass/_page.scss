.page, .section, .taxonomy {
  padding-top: 2em;
  margin-top: 0;

  p:first-of-type {
    font-size: $first-paragraph-size;
  }

  .page-date {
    color: #999;
    font-family: $header-font-family;
    font-size: 81% !important;
    font-weight: normal;
    margin-top: -1.2em;
    margin-bottom: 2em;

    .date {
      color: $accent-text-color;
      font-weight: bold;
    }

    .es-tag a { color: #999; }
  }

  ul li {
    margin: .25em 0 .25em 1.5em;
    list-style: disc;

    p:first-of-type {
      font-size: 100%;
    }
  }

  .breadcrumb {
    font-family: $header-font-family;
    margin-bottom: 1em;

    ul {
      li {
        margin: 0;

        a { padding: 0 .4em; }
      }

      li:first-of-type {
        padding-left: 0;

        a { padding-left: 0; } 
       .icon { margin: 0; }
      }
    }
  }

  .title-assembly {
    margin-top: 0;
    margin-bottom: 3em;

    h1.title {
      line-height: 100%;
      margin-top: 0;
      margin-bottom: .5em;

      .top-section-home {
        font-size: 35%;
      }
    }

    ul.page_meta {
      margin: 3em auto;
      max-width: $preferred-text-width;
      font-family: $header-font-family;
      font-size: 80%;

      li {
        list-style: none;
        margin: .25em 0;
        line-height: 1.1em;
      }
    }
  }

  a { color: $header-text-color; }

  blockquote {
    p {
      border-left: 6px solid scale-color($header-text-color, $lightness: 50%);
      padding-left: 1.5rem;
    }

    p:first-of-type { font-size: 1.35rem; }
  }

  .card {
    background-color: #ddd;
    margin: 4rem 0;
  }

  .card-header {
    font-family: $header-font-family;
    margin: .5em .5em 0 .5em;
    padding-bottom: .5em;
    border-bottom: 1px solid #aaa;
    box-shadow: none;

    .card-header-title {
      display: block;
      color: black;

      a { color: black; }

      .breadcrumb {
        line-height: 1em;

        ul { margin: 0; }
        a:hover { color: white; }
      }

      item { display: block; }

      .title {
        font-size: 120%;
        font-weight: 700;
        margin: .25rem 0;
      }

      .date {
        opacity: 80%;
        font-weight: 400;
        font-size: 70%;
        line-height: 1.0;
      }
    }
  }

  .card-image {
    margin-top: -1px; // overwrite 1px border
  }

  .card-content {
    font-size: 1.25rem;

    .content { margin: -2rem 0; }
    p:first-of-type { font-size: 1.25rem !important; }

    .read-more {
      margin-top: 1rem;
      margin-bottom: 1rem;
      font-family: $header-font-family;
      font-size: 80%;
      text-align: right;
    }
  }

  .subsections {
    font-family: $header-font-family;
    font-size: 75%;
    list-style: none;
    
    li {
      margin: 0 2em 0 0;
      display: inline;
      white-space: nowrap;

      a:hover {
        text-decoration: none;

        .sub-title { text-decoration: underline; }
      }
    }
  }

  .es-endmark {
    .es-endmark-inner {
      background-image: url('/common/endmark-background.png');
      background-repeat: repeat-x;
      background-position: center center;
      margin: 4rem auto;
      max-width: 24rem;

      .es-endmark-img {
        background: $main-section-background;
        text-align: center;
        margin: 0 auto;
        width: 104px;
        line-height: 1;

        img {
          height: 54px;
          width: 54px;
        }
      }
    }
  }
}

.es-dark-mode {
  .card {
    background-color: $scheme-main;

    .card-header {
      border-bottom-color: lighten($color: $scheme-main, $amount: 15%);

      .card-header-title {
        color: #ccc;

        a { color: #ccc; }
        a:hover { color: white; }
      }
    }
  }

  .breadcrumb, .page_meta {
    a:hover {
      color: white;
      opacity: 100%;
      text-decoration: none;
    }
  }

  blockquote {
    margin: 0 2em 0 4em;

    p {
      border-left: solid 5px lighten($main-section-background, 20%);
      color: #ccc;
      padding: 0 4em 0 .75em;
    }
  }
}

.tag {
  font-family: $header-font-family;
  font-weight: 300;

  a:hover { text-decoration: none; }
}

.es-tag { margin-right: .6em; }

.es-dark-mode ul.page_meta {
  a { color: #aaa; }
  a:hover { text-decoration: underline };
}

#map {
  margin-top: 3em;
  height: 60vh;
}

.map-dark-mode {
  button[style] {
    background-color: $main-section-background !important;

    &[aria-checked="true"] { color: #999999 !important; }
    &[aria-label="Keyboard shortcuts"] { display: none !important;  }
  }

  .gm-svpc { display: none !important; }
}

.map-caption {
  margin-top: 0em;
  text-align: center;
  font-family: $header-font-family;
  font-weight: 300;
  font-size: 75%;
}

.es-dark-mode .map-caption { color: #999; }

.gpx-marker img {
  max-width: 170px;
  max-height: 170px;
}

.park-marker {
  color: black;

  img { max-width: 170px; max-height: 170px; }
  a { color: black; }
  a:hover { text-decoration: none; }
}

#next_prev {
  font-family: $header-font-family;
  color: $header-text-color;

  a { color: $header-text-color; }
  #prev { text-align: right; }
}

.es-dark-mode #next_prev {
  a:hover {
    color: white;
    text-decoration: none;
  }
}

.search-results {
  background-color: #18181c;
  color: #fff;
  display: none; // will be overridden if there are results
  padding: 3em 0;

  h2 {
    color: #6f6f82;
    margin-top: 0;
  }

  .search-results__items {
    max-width: $preferred-text-width;
    margin: 1em auto;

    li {
      list-style: none;
      margin: 0 0 1.75em 0;
      padding-top: 1.5em;
      border-top: 1px dotted #56575c;

      a {
        font-family: $header-font-family;
        font-weight: bold;
        font-size: 120%;
        color: #6f6f82;
      }

      div {
        margin: .5em 0;
        color: #807f79;

        b { color: #ccc; }
      }
    }
  }
}
